# 공학용 전자계산기 웹앱 개발 로드맵

## 프로젝트 개요
공학용 전자계산기 웹앱을 TDD와 SOLID 원칙을 준수하며 개발합니다.

**기술 스택**: HTML5, CSS3 (Tailwind), JavaScript (ES6+), Jest  
**배포**: GitHub Actions + GitHub Pages  
**개발 방법론**: TDD (Test-Driven Development), SOLID 원칙

---

## 📋 전체 일정

```
Phase 1: 환경 설정 및 기초 구조 (1주)
Phase 2: 코어 로직 개발 (2주)
Phase 3: UI 구현 (1주)
Phase 4: 통합 및 고급 기능 (1주)
Phase 5: 테스트 및 배포 (1주)
```

---

## Phase 1: 환경 설정 및 기초 구조 (1주)

### 1.1 개발 환경 설정
- [ ] Node.js 및 npm 설치 확인
- [ ] package.json 생성
- [ ] Jest 설치 및 설정
  - [ ] Jest 패키지 설치
  - [ ] jest.config.js 생성
  - [ ] package.json에 테스트 스크립트 추가
- [ ] ESLint, Prettier 설정
  - [ ] ESLint 설치 및 .eslintrc.json 생성
  - [ ] Prettier 설치 및 .prettierrc 생성
  - [ ] .editorconfig 생성
- [ ] .gitignore 파일 생성
  - [ ] node_modules 제외
  - [ ] coverage 폴더 제외
- [ ] Git 저장소 초기화 및 첫 커밋

**예상 시간**: 1일

**체크리스트**:
```bash
# package.json 생성
npm init -y

# Jest 설치
npm install --save-dev jest

# ESLint, Prettier 설치
npm install --save-dev eslint prettier eslint-config-prettier

# package.json에 스크립트 추가
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  }
}
```

### 1.2 프로젝트 구조 생성
- [ ] 폴더 구조 생성
  - [ ] `js/` - JavaScript 소스 코드
  - [ ] `tests/` - 테스트 파일
  - [ ] `css/` - 커스텀 CSS (필요시)
  - [ ] `assets/` - 이미지, 아이콘 등
- [ ] 기본 HTML 파일 생성 (`index.html`)
- [ ] README.md 작성

**예상 시간**: 0.5일

**폴더 구조**:
```
Calculator-Demo-2/
├── .agent/
│   └── rules/
├── .github/
│   └── workflows/
├── docs/
├── js/
│   ├── core/           # 코어 로직
│   ├── ui/             # UI 레이어
│   └── utils/          # 유틸리티
├── tests/
│   ├── core/
│   ├── ui/
│   └── utils/
├── css/
├── assets/
├── index.html
├── package.json
└── README.md
```

### 1.3 기본 HTML 구조 작성
- [ ] Tailwind CSS CDN 추가
- [ ] Google Fonts 추가 (Space Grotesk, Noto Sans)
- [ ] Material Icons 추가
- [ ] 기본 레이아웃 구조 작성

**예상 시간**: 0.5일

---

## Phase 2: 코어 로직 개발 (TDD) (2주)

### 2.1 유틸리티 함수 (TDD)
- [ ] **각도 변환 함수** (`utils/angleConverter.js`)
  - [ ] 테스트: deg → rad 변환
  - [ ] 테스트: rad → rad (그대로)
  - [ ] 테스트: grad → rad 변환
  - [ ] 구현: `convertAngle(value, mode)`
  - [ ] 리팩토링

- [ ] **숫자 포맷팅 함수** (`utils/formatter.js`)
  - [ ] 테스트: 일반 숫자 포맷팅
  - [ ] 테스트: 지수 표기법 (큰 숫자)
  - [ ] 테스트: 소수점 자리수 제한
  - [ ] 구현: `formatNumber(num, maxDecimals)`
  - [ ] 리팩토링

- [ ] **입력 검증 함수** (`utils/validator.js`)
  - [ ] 테스트: 유효한 문자 검증
  - [ ] 테스트: 괄호 매칭 검증
  - [ ] 구현: `validateExpression(expr)`
  - [ ] 리팩토링

**예상 시간**: 2일

### 2.2 기본 연산 (TDD)
- [ ] **Operation 인터페이스** (`core/operations/Operation.js`)
  - [ ] 추상 클래스 정의
  - [ ] `execute()` 메서드 정의

- [ ] **사칙연산** (`core/operations/`)
  - [ ] `AddOperation.js`
    - [ ] 테스트: 양수 덧셈
    - [ ] 테스트: 음수 덧셈
    - [ ] 테스트: 0 덧셈
    - [ ] 구현 및 리팩토링
  - [ ] `SubtractOperation.js`
    - [ ] 테스트 작성
    - [ ] 구현 및 리팩토링
  - [ ] `MultiplyOperation.js`
    - [ ] 테스트 작성
    - [ ] 구현 및 리팩토링
  - [ ] `DivideOperation.js`
    - [ ] 테스트: 일반 나눗셈
    - [ ] 테스트: 0으로 나누기 (예외)
    - [ ] 구현 및 리팩토링

**예상 시간**: 2일

### 2.3 과학 함수 (TDD)
- [ ] **삼각함수** (`core/operations/trigonometric/`)
  - [ ] `SinOperation.js`
    - [ ] 테스트: sin(0) = 0
    - [ ] 테스트: sin(30°) = 0.5
    - [ ] 테스트: sin(90°) = 1
    - [ ] 구현 (각도 변환 포함)
  - [ ] `CosOperation.js`
    - [ ] 테스트 작성
    - [ ] 구현
  - [ ] `TanOperation.js`
    - [ ] 테스트 작성
    - [ ] 구현

- [ ] **로그 및 지수** (`core/operations/logarithmic/`)
  - [ ] `LnOperation.js` (자연로그)
    - [ ] 테스트: ln(1) = 0
    - [ ] 테스트: ln(e) = 1
    - [ ] 테스트: ln(음수) 예외 처리
    - [ ] 구현 및 리팩토링
  - [ ] `LgOperation.js` (상용로그)
    - [ ] 테스트: lg(1) = 0
    - [ ] 테스트: lg(10) = 1
    - [ ] 테스트: lg(100) = 2
    - [ ] 구현 및 리팩토링
  - [ ] `PowerOperation.js` (거듭제곱)
    - [ ] 테스트: 2^3 = 8
    - [ ] 테스트: 2^0 = 1
    - [ ] 테스트: 2^(-1) = 0.5
    - [ ] 구현 및 리팩토링
  - [ ] `SqrtOperation.js` (제곱근)
    - [ ] 테스트: √4 = 2
    - [ ] 테스트: √0 = 0
    - [ ] 테스트: √(-1) 예외 처리
    - [ ] 구현 및 리팩토링
  - [ ] `ReciprocalOperation.js` (역수 1/x)
    - [ ] 테스트: 1/2 = 0.5
    - [ ] 테스트: 1/0 예외 처리
    - [ ] 구현 및 리팩토링
  - [ ] `PercentOperation.js` (백분율)
    - [ ] 테스트: 50% = 0.5
    - [ ] 테스트: 100% = 1
    - [ ] 구현 및 리팩토링

**예상 시간**: 3일

### 2.4 계산 엔진 (TDD)
- [ ] **CalculatorEngine** (`core/CalculatorEngine.js`)
  - [ ] 테스트: 연산 등록
  - [ ] 테스트: 연산 실행
  - [ ] 테스트: 존재하지 않는 연산 (예외)
  - [ ] 구현: `registerOperation(name, operation)`
  - [ ] 구현: `calculate(operationName, ...args)`
  - [ ] 리팩토링

**예상 시간**: 1일

### 2.5 수식 파서 (TDD)
- [ ] **ExpressionParser** (`core/ExpressionParser.js`)
  - [ ] 테스트: 토큰화
    - [ ] "2 + 3" → ["2", "+", "3"]
    - [ ] "sin(30)" → ["sin", "(", "30", ")"]
  - [ ] 테스트: 기본 사칙연산 파싱
    - [ ] "2 + 3" = 5
    - [ ] "10 - 5" = 5
  - [ ] 테스트: 연산자 우선순위
    - [ ] "2 + 3 * 4" = 14
    - [ ] "(2 + 3) * 4" = 20
  - [ ] 테스트: 괄호 처리
  - [ ] 테스트: 함수 호출
    - [ ] "sin(30)" 파싱
  - [ ] 테스트: 에러 처리
    - [ ] 빈 수식
    - [ ] 괄호 불일치
    - [ ] 잘못된 문자
  - [ ] 구현: 재귀 하강 파서
  - [ ] 리팩토링

**예상 시간**: 3일

### 2.6 상태 관리 (TDD)
- [ ] **StateManager** (`core/StateManager.js`)
  - [ ] 테스트: 상태 초기화
  - [ ] 테스트: 상태 업데이트
  - [ ] 테스트: 상태 조회
  - [ ] 테스트: 리스너 등록/해제
  - [ ] 테스트: 리스너 알림
  - [ ] 구현: 옵저버 패턴
  - [ ] 리팩토링

**예상 시간**: 2일

### 2.7 히스토리 관리 (TDD)
- [ ] **HistoryManager** (`core/HistoryManager.js`)
  - [ ] 테스트: 히스토리 추가
  - [ ] 테스트: 히스토리 조회
  - [ ] 테스트: 히스토리 삭제
  - [ ] 테스트: LocalStorage 저장
  - [ ] 테스트: LocalStorage 로드
  - [ ] 테스트: 최대 개수 제한
  - [ ] 구현 (Storage 인터페이스 활용)
  - [ ] 리팩토링

**예상 시간**: 2일

---

## Phase 3: UI 구현 (1주)

### 3.1 HTML 구조 완성
- [ ] **Header 컴포넌트**
  - [ ] 메뉴 버튼 (햄버거 아이콘)
  - [ ] 제목 ("Scientific")
  - [ ] 히스토리 버튼 (시계 아이콘)
  - [ ] 헤더 레이아웃 (flexbox)

- [ ] **Display 영역**
  - [ ] 입력 수식 표시 영역 (상단, 회색 텍스트)
  - [ ] 결과 표시 영역 (하단, 큰 볼드 텍스트)
  - [ ] 디스플레이 컨테이너 스타일
  - [ ] 하단 테두리 (키패드와 구분)

- [ ] **Keypad 영역 - 과학 함수 버튼**
  - [ ] Row 1: 2nd, deg, sin, cos, tan
  - [ ] Row 2: x^y, lg, ln, (, )
  - [ ] Row 3: √, 1/x, π, e, %
  - [ ] 5열 그리드 레이아웃 설정

- [ ] **Keypad 영역 - 숫자 및 연산 버튼**
  - [ ] Row 4: 7, 8, 9, ⌫, AC
  - [ ] Row 5: 4, 5, 6, ×, ÷
  - [ ] Row 6: 1, 2, 3, +, -
  - [ ] Row 7: 0, ., EXP, ANS, =
  - [ ] 버튼 ID 및 data 속성 설정

**예상 시간**: 1일

### 3.2 CSS 스타일링
- [ ] Tailwind CSS 커스텀 설정
  - [ ] 색상 팔레트
  - [ ] 폰트 설정
  - [ ] 다크 모드 설정
- [ ] 버튼 스타일
  - [ ] 숫자 버튼
  - [ ] 과학 함수 버튼
  - [ ] 연산자 버튼
  - [ ] AC, Backspace 버튼
  - [ ] = 버튼
- [ ] 애니메이션 효과
  - [ ] Hover 효과
  - [ ] Active 효과 (scale)
  - [ ] Transition

**예상 시간**: 2일

### 3.3 UI 매니저 구현
- [ ] **DisplayManager** (`ui/DisplayManager.js`)
  - [ ] 수식 표시 업데이트
  - [ ] 결과 표시 업데이트
  - [ ] 오류 메시지 표시
  - [ ] 숫자 포맷팅 적용

- [ ] **ThemeManager** (`ui/ThemeManager.js`)
  - [ ] 다크/라이트 모드 전환
  - [ ] 시스템 설정 감지
  - [ ] LocalStorage에 설정 저장

**예상 시간**: 1일

### 3.4 이벤트 핸들러
- [ ] **EventHandler** (`ui/EventHandler.js`)
  - [ ] 버튼 클릭 이벤트
  - [ ] 키보드 입력 이벤트
  - [ ] 메뉴 버튼 이벤트
  - [ ] 히스토리 버튼 이벤트

**예상 시간**: 1일

### 3.5 반응형 디자인
- [ ] 모바일 레이아웃 (< 640px)
- [ ] 태블릿 레이아웃 (640px - 1024px)
- [ ] 데스크톱 레이아웃 (> 1024px)
- [ ] 터치 인터랙션 최적화

**예상 시간**: 1일

---

## Phase 4: 통합 및 고급 기능 (1주)

### 4.1 애플리케이션 통합
- [ ] **App.js** (`js/App.js`)
  - [ ] 의존성 주입 (DI Container)
  - [ ] 컴포넌트 초기화
  - [ ] 이벤트 바인딩
  - [ ] 앱 시작

**예상 시간**: 1일

### 4.2 히스토리 UI
- [ ] **히스토리 모달 구조**
  - [ ] 모달 오버레이 (배경 어둡게)
  - [ ] 모달 컨테이너 (중앙 정렬)
  - [ ] 모달 헤더 (제목 + 닫기 버튼)
  - [ ] 모달 바디 (히스토리 목록)
  - [ ] 모달 푸터 (전체 삭제 버튼)

- [ ] **히스토리 목록 기능**
  - [ ] 히스토리 항목 렌더링
    - [ ] 수식 표시
    - [ ] 결과 표시
    - [ ] 타임스탬프 표시
  - [ ] 항목 클릭 시 수식 복원
  - [ ] 항목별 삭제 버튼
  - [ ] 빈 히스토리 상태 메시지

- [ ] **모달 인터랙션**
  - [ ] 모달 열기/닫기 애니메이션
  - [ ] 오버레이 클릭 시 닫기
  - [ ] ESC 키로 닫기
  - [ ] 스크롤 처리 (많은 항목)

- [ ] **히스토리 관리 기능**
  - [ ] 전체 삭제 확인 다이얼로그
  - [ ] 삭제 후 UI 업데이트
  - [ ] 로컬 스토리지 동기화

**예상 시간**: 2일

### 4.3 설정 메뉴
- [ ] 설정 모달 구현
  - [ ] 테마 전환 (다크/라이트)
  - [ ] 각도 모드 설정 (deg/rad/grad)
  - [ ] 소수점 자리수 설정
- [ ] LocalStorage에 설정 저장

**예상 시간**: 1일

### 4.4 키보드 단축키
- [ ] 숫자 키 (0-9)
- [ ] 연산자 키 (+, -, *, /)
- [ ] Enter (=)
- [ ] Backspace
- [ ] Escape (AC)
- [ ] 괄호 (, )

**예상 시간**: 1일

### 4.5 에러 처리 및 사용자 피드백
- [ ] 계산 오류 메시지
- [ ] 입력 검증 피드백
- [ ] 로딩 상태 표시 (필요시)
- [ ] 토스트 메시지 (성공/오류)

**예상 시간**: 1일

---

## Phase 5: 테스트 및 배포 (1주)

### 5.1 통합 테스트
- [ ] **코어 로직 통합 테스트** (자동화)
  - [ ] 계산 엔진 + 파서 통합 테스트
  - [ ] 상태 관리 + 히스토리 통합 테스트
  - [ ] 전체 계산 플로우 테스트
  - [ ] 테스트 커버리지 80% 이상 확인

- [ ] **UI 수동 테스트**
  - [ ] 기본 계산 플로우
    - [ ] 숫자 입력 및 표시
    - [ ] 사칙연산 동작
    - [ ] 결과 계산 및 표시
  - [ ] 과학 함수 계산
    - [ ] 삼각함수 (sin, cos, tan)
    - [ ] 로그 및 지수 함수
    - [ ] 각도 모드 전환 (deg/rad/grad)
  - [ ] 히스토리 기능
    - [ ] 히스토리 저장
    - [ ] 히스토리 조회
    - [ ] 히스토리 삭제
  - [ ] 테마 전환
    - [ ] 다크 모드
    - [ ] 라이트 모드
  - [ ] 반응형 디자인
    - [ ] 모바일 레이아웃
    - [ ] 태블릿 레이아웃
    - [ ] 데스크톱 레이아웃

**예상 시간**: 2일

### 5.2 코드 품질 검증
- [ ] ESLint 검사 및 수정
- [ ] Prettier 포맷팅
- [ ] 코드 리뷰
- [ ] 리팩토링

**예상 시간**: 1일

### 5.3 성능 최적화
- [ ] 번들 크기 최적화
- [ ] 이미지 최적화
- [ ] 렌더링 최적화
- [ ] Lighthouse 점수 확인 (90점 이상 목표)

**예상 시간**: 1일

### 5.4 문서화
- [ ] README.md 업데이트
  - [ ] 프로젝트 소개
  - [ ] 기능 목록
  - [ ] 설치 및 실행 방법
  - [ ] 스크린샷
- [ ] 코드 주석 추가
- [ ] API 문서 작성 (JSDoc)

**예상 시간**: 1일

### 5.5 배포
- [ ] GitHub 저장소 최종 정리
- [ ] GitHub Actions 워크플로우 테스트
- [ ] GitHub Pages 배포
- [ ] 배포된 사이트 테스트
- [ ] 도메인 설정 (선택 사항)

**예상 시간**: 1일

### 5.6 최종 검증
- [ ] 모든 기능 테스트
- [ ] 크로스 브라우저 테스트
  - [ ] Chrome
  - [ ] Firefox
  - [ ] Safari
  - [ ] Edge
- [ ] 모바일 테스트
  - [ ] iOS Safari
  - [ ] Chrome Mobile
- [ ] 접근성 검증 (WCAG 2.1 AA)

**예상 시간**: 1일

---

## 추가 기능 (선택 사항)

### PWA 변환
- [ ] manifest.json 생성
- [ ] Service Worker 구현
- [ ] 오프라인 지원
- [ ] 앱 아이콘 생성

### 고급 기능
- [ ] 계산 기록 내보내기 (CSV, JSON)
- [ ] 수식 공유 기능
- [ ] 복소수 계산 지원
- [ ] 행렬 계산 지원
- [ ] 그래프 그리기 기능

---

## 마일스톤

### Milestone 1: 개발 환경 완료 (1주차 종료)
- ✅ 환경 설정 완료
- ✅ 프로젝트 구조 생성
- ✅ 기본 HTML 작성

### Milestone 2: 코어 로직 완료 (3주차 종료)
- ✅ 모든 연산 구현 (TDD)
- ✅ 파서 구현
- ✅ 상태 관리 구현
- ✅ 테스트 커버리지 80% 이상

### Milestone 3: UI 완료 (4주차 종료)
- ✅ 모든 UI 컴포넌트 구현
- ✅ 반응형 디자인 완료
- ✅ 다크 모드 지원

### Milestone 4: 통합 완료 (5주차 종료)
- ✅ 모든 기능 통합
- ✅ 히스토리, 설정 기능 완료
- ✅ 키보드 단축키 지원

### Milestone 5: 배포 완료 (6주차 종료)
- ✅ 모든 테스트 통과
- ✅ GitHub Pages 배포
- ✅ 문서화 완료

---

## 진행 상황 추적

### 현재 상태
- [x] 프로젝트 기획 완료
- [x] PRD 작성
- [x] TechSpec 작성
- [x] 배포 가이드 작성
- [x] 프로젝트 규칙 설정 (TDD, SOLID)
- [ ] 개발 환경 설정
- [ ] 코어 로직 개발
- [ ] UI 구현
- [ ] 통합 및 고급 기능
- [ ] 테스트 및 배포

### 다음 단계
1. Node.js 및 npm 설치 확인
2. package.json 생성 및 Jest 설정
3. 프로젝트 폴더 구조 생성
4. 첫 번째 테스트 작성 (TDD 시작)

---

## 참고 사항

### 개발 원칙
- ✅ **TDD**: 코어 로직은 반드시 테스트 먼저 작성
- ✅ **SOLID**: 모든 코드는 SOLID 원칙 준수
- ✅ **Clean Code**: 가독성 높은 코드 작성
- ✅ **DRY**: 중복 코드 최소화

### 커밋 컨벤션
```
feat: 새로운 기능 추가
fix: 버그 수정
test: 테스트 코드 추가/수정
refactor: 코드 리팩토링
docs: 문서 수정
style: 코드 포맷팅
chore: 빌드, 설정 파일 수정
```

---

**문서 버전**: 1.0  
**최종 수정일**: 2025-12-23  
**예상 완료일**: 2026-02-03 (6주 후)
